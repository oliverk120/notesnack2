<section data-ng-controller = "NotesheetsController" data-ng-init="findOne()">
  <div class="sidebar col-md-2">
    <div class="col-md-12" data-ng-controller = "FormulasController" data-ng-init="findFormula()">
      <h3>Formulas</h3>
      <input type="text" class="form-control" ng-model="searchText" ng-focus="onFocus()" placeholder ="Search all formulas">
      <ul class="formulaList">
        <li data-ng-repeat="item in filteredFormulas" formulalink></li>
      </ul>
      <div ng-controller="PaginationDemoCtrl" ng-class="{hidden: searchText}">
      page: {{currentPage}}
        <pagination boundary-links="false" items-per-page="numPerPage" max-size="5" ng-model="currentPage" total-items="totalItems" class="pagination-sm" previous-text="&lsaquo;" next-text="&rsaquo;">
        </pagination>
      </div>
    </div>
  </div>
  <div class="col-md-10">
    <div class="row">
      <form name="notesheetForm" class="form-horizontal col-md-6" role="form" data-ng-submit="createOrUpdate(notesheetForm.$valid)" novalidate>
        <div class="input-group" ng-class="{ 'has-error' : submitted && notesheetForm.title.$invalid }">
          <input name="title" type="text" class="form-control" data-ng-model="notesheet.title" id="title" placeholder="Title" required aria-describedby="basic-addon2">
          
          <span class="input-group-btn">
            <button class="btn" mean-token="'create-submit'" type="submit">
              <span class="glyphicon glyphicon-save" aria-hidden="true"></span> Save
            </button>
            <div id="edit" class="btn" data-ng-click="sheetData = []">
              <span class="glyphicon glyphicon-delete" aria-hidden="true"></span> Clear
            </div>
            <div id="arrange" class="btn">
              <span class="glyphicon glyphicon-th" aria-hidden="true"></span> Arrange
            </div>

          </span>

        </div>
        <div ng-show="submitted && notesheetForm.title.$invalid" class="help-block">
            <p ng-show="notesheetForm.title.$error.required">Title is required</p>
          </div>      
      </form>
    </div>
    <div class="row"> 
      <div id="formulaSheet" workspace class="module-container">
        <div data-ng-repeat="item in sheetData" nsformula>
        </div>
          <h1 data-ng-hide="!sheetData || sheetData.length">No formulas added. <br> Why don't you add a formula from the side bar?</h1>
      </div>
    </div>
  </div>
</section>
